# üö® –í–ê–ñ–õ–ò–í–û: –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ë–æ—Ç **–ù–ï –ú–û–ñ–ï** –∑–∞–ø—É—Å—Ç–∏—Ç–∏—Å—è —á–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫—É **409 Conflict**.

–¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ **—Ö—Ç–æ—Å—å —ñ–Ω—à–∏–π** –≤–∂–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–æ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ Telegram API.

## –ù–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à—ñ –ø—Ä–∏—á–∏–Ω–∏:

### 1Ô∏è‚É£ –ë–æ—Ç –≤—ñ–¥–∫—Ä–∏—Ç–∏–π —É Telegram (–ù–ê–ô–ß–ê–°–¢–Ü–®–ï!)

**–†—ñ—à–µ–Ω–Ω—è:**
- –ó–∞–∫—Ä–∏–π—Ç–µ **–≤—Å—ñ** –≤–∫–ª–∞–¥–∫–∏ –∑ Telegram Web
- –ó–∞–∫—Ä–∏–π—Ç–µ **–≤—Å—ñ** –≤—ñ–∫–Ω–∞ Telegram Desktop
- –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ: –∑–∞–∫—Ä–∏–π—Ç–µ —á–∞—Ç –∑ –±–æ—Ç–æ–º [@codex_webhook_bot](https://t.me/codex_webhook_bot)
- **–ó–∞—á–µ–∫–∞–π—Ç–µ 2-3 —Ö–≤–∏–ª–∏–Ω–∏**

### 2Ô∏è‚É£ Webhook –≤—ñ–¥ —ñ–Ω—à–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
cd tgbot
node logout-bot.js
# –ó–∞—á–µ–∫–∞–π—Ç–µ 2 —Ö–≤–∏–ª–∏–Ω–∏
npm run dev
```

### 3Ô∏è‚É£ –Ü–Ω—à–∏–π –ø—Ä–æ—Ü–µ—Å –Ω–∞ –∫–æ–º–ø'—é—Ç–µ—Ä—ñ

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏
ps aux | grep telegram-banya-bot

# –í–±–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å (–∑–∞–º—ñ–Ω—ñ—Ç—å PID –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π)
kill -9 PID
```

## ‚úÖ –ö–æ–ª–∏ –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —É—Å–ø—ñ—à–Ω–æ:

–í–∏ –ø–æ–±–∞—á–∏—Ç–µ:
```
üöÄ Starting Telegram Banya Bot...
üì° Starting with long polling...
‚úÖ Bot started successfully!
üë§ Bot username: @codex_webhook_bot
```

## üéØ –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è (–ì–ê–†–ê–ù–¢–û–í–ê–ù–û –ü–†–ê–¶–Æ–Ñ):

### –°–ø–æ—Å—ñ–± 1: –¢–µ—Ä–ø–ª—è—á–∏–π üòå

```bash
cd /Users/serbinov/Desktop/projects/jamal/TMB-backend/tgbot

# 1. –í–∏—Ö–æ–¥–∏–º–æ –∑ —Å–∏—Å—Ç–µ–º–∏ Telegram
node logout-bot.js

# 2. –ó–ê–ö–†–ò–ô–¢–ï –í–°–ÜBOOTSTRAP –≤–∫–ª–∞–¥–∫–∏/–≤—ñ–∫–Ω–∞ –∑ Telegram!

# 3. –ó–∞—á–µ–∫–∞–π—Ç–µ 5 –ü–û–í–ù–ò–• –•–í–ò–õ–ò–ù ‚è∞
# (–ø–æ—Å—Ç–∞–≤—Ç–µ —Ç–∞–π–º–µ—Ä –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ!)

# 4. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ
npm run dev
```

### –°–ø–æ—Å—ñ–± 2: –ê–≥—Ä–µ—Å–∏–≤–Ω–∏–π üí™

```bash
# 1. –í–±–∏—Ç–∏ –≤—Å—ñ node –ø—Ä–æ—Ü–µ—Å–∏
killall node

# 2. Logout –∑ Telegram
node logout-bot.js

# 3. –ó–∞—á–µ–∫–∞—Ç–∏ 3 —Ö–≤–∏–ª–∏–Ω–∏

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏
npm run dev
```

### –°–ø–æ—Å—ñ–± 3: –ó —ñ–Ω—à–æ–≥–æ —Ç–æ–∫–µ–Ω–∞ üîë

–Ø–∫—â–æ –Ω—ñ—á–æ–≥–æ –Ω–µ –¥–æ–ø–æ–º–∞–≥–∞—î - —Å—Ç–≤–æ—Ä—ñ—Ç—å **–Ω–æ–≤–∏–π –±–æ—Ç**:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@BotFather](https://t.me/BotFather)
2. `/newbot`
3. –ù–∞–∑–≤–∞: `–ë–∞–Ω—è –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è`
4. Username: `your_banya_booking_bot`
5. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ç–æ–∫–µ–Ω
6. –í—Å—Ç–∞–≤—Ç–µ –≤ `.env`:
   ```env
   BOT_TOKEN=–ù–û–í–ò–ô_–¢–û–ö–ï–ù_–¢–£–¢
   ```
7. `npm run dev`

## üß™ –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —á–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π:

```bash
# –£ —ñ–Ω—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ
curl "https://api.telegram.org/bot8540727690:AAH2bvniTiREgKsLAjG6t-mLnobfsGL--xM/getMe"
```

–Ø–∫—â–æ –±–∞—á–∏—Ç–µ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –±–æ—Ç–∞ - –≤—ñ–Ω –∂–∏–≤–∏–π!

## üìû –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É:

1. Telegram ‚Üí [@codex_webhook_bot](https://t.me/codex_webhook_bot)
2. `/start`
3. "üìÖ –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—ñ–ª—å–Ω—ñ —Å–ª–æ—Ç–∏"
4. –í–∏–±–µ—Ä—ñ—Ç—å –¥–∞—Ç—É/—á–∞—Å
5. **Profit!** üéâ

---

**P.S.** –ü—Ä–æ–±–ª–µ–º–∞ 409 - —Ü–µ –ù–ï –±–∞–≥ –±–æ—Ç–∞, —Ü–µ –∑–∞—Ö–∏—Å—Ç Telegram –≤—ñ–¥ –ø–æ–¥–≤—ñ–π–Ω–∏—Ö –ø—ñ–¥–∫–ª—é—á–µ–Ω—å.
–ü—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–∞—á–µ–∫–∞—Ç–∏ –∞–±–æ –∑–∞–∫—Ä–∏—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ñ —Å–µ—Å—ñ—ó.
